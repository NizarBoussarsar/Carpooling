{% extends '::base.html.twig' %}

{% block body -%}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(search1) {
        function Recherche1(search1)
        {
            
            //  file('http://localhost/Covoiturage-Symfony2-Web-hussein/web/app_dev.php/Findgouvernorat?search1='+escape(search1)+'&search2=');
  


        }
        function Recherche2(search2)
        {
            file('http://localhost/Covoiturage-Symfony2-Web-hussein/web/app_dev.php/Findgouvernorat?search1=' + search1 + '&search2=' + search2);
        }
        function file(fichier)
        {
            if (window.XMLHttpRequest) // FIREFOX
                xhr_object = new XMLHttpRequest();
            else if (window.ActiveXObject) // IE
                xhr_object = new ActiveXObject("Microsoft.XMLHTTP");
            else
                return(false);
            xhr_object.open("GET", fichier, false);
            xhr_object.send(null);
            if (xhr_object.readyState == 4)
                return(xhr_object.responseText);
            else
                return(false);
        }
    });


    </script>
    <h1>Villes list</h1>




    <form action="" method="GET" >
        <input type="submit" value="Rechercher" >
        gouvernorat:   <input type="text"  list="g" name ="search1" onchange="Recherche1(this.value);">  

        <datalist id="g"> 
                   {% for entity in entities %}
                <option  value="{{entity.gouvernorat }}">{{ entity.gouvernorat }}</option>
                   {% endfor %}

            </datalist>


            delegation:  <input type="text"  list="d"  name ="search2" onkeyup="Recherche2(this.value);">  
            <datalist id="d"> 



       {% for entity in delegations %}
                <option value="{{entity.delegation }}">{{ entity.delegation }}</option>
        {% endfor %}

            </datalist>


            localite:  <input type="text"  list="l" name ="search3"> 
            <datalist id="l"> 
                   {% for entity in localites %}
                    <option value="{{entity.localite }}">{{ entity.localite }}</option>
                       {% endfor %}
                </datalist>

            </form>



        </tbody>
    </table>

    {% endblock %}
